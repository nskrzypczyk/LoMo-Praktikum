\input{latex-templates/head.tex}

% Metainformationen
\title{Evaluation -- Praktikum 2}
\author{Die Lokalisatoren}

\ihead{}
\chead{}
\ohead{}
\ifoot{}
\cfoot{\pagemark}
\ofoot{}

\input{latex-templates/ownCommands.tex}

\setlength{\parskip}{0em}
\setlength{\parindent}{0em}
\renewcommand{\baselinestretch}{1.5}

\begin{document}

\docheader

\section{Wie und wo wir messen}

Auf jede Route werden drei verschiedene Verfahren angewandt: 
\begin{itemize}
	\item FusedLocationProvider - \code{PRIORITY\_HIGH\_ACCURACY} (nachfolgend "`FLP\_HIGH"' genannt)
	\item FusedLocationProvider - \code{PRIORITY\_LOW\_POWER} (nachfolgend "`FLP\_LOW"' genannt)
	\item LocationManager - \code{GPS\_PROVIDER} (nachfolgend "`LM\_GPS"' genannt)
\end{itemize}

Dabei entschieden wir uns für FLP\_HIGH, um die genaueste Positionierung zu erhalten. FLP\_LOW verzichte größtenteils auf GPS- und Wi-Fi-Signale und ermittle die Position über Cell Tower (laut Google). LM\_GPS wurde von uns ausgewählt, um die Genauigkeit von GPS zu der höchstmöglichen Genauigkeit und "`Cell Tower-Genauigkeit"' einzuschätzen bzgl. in Relation zu setzen. \\

Zur Überprüfung der einzelnen Verfahren wurden zwei Routen definiert (Abbildung \ref{fig:routen}). Das Abgehen einer Route folgt dabei folgendem Schema: An Position des ersten Flags wird der "`Start"'-Button betätigt. Sobald die erste Positionierung erfolgte, wird der "`Timestamp"'-Button betätigt und Route in Schritttempo abgegangen. Jetzt wird der "`Timestamp"'-Button immer betätigt, wenn ein Flag der "`Groundtruth"' passiert wird. Am Ende der Route wird abschließend der "`Timestamp"'- und "`Stop"'-Button betätigt.

\begin{figure}[h!]
	\centering
	\begin{subfigure}[b]{.64\textwidth}
		\centering
        \includegraphics[height=5.2cm]{route1}
        \caption{Route  1 (Outdoors)}
        \label{fig:route1}
    \end{subfigure}
    \begin{subfigure}[b]{.35\textwidth}
    	\centering
        \includegraphics[height=5.2cm]{route2}
        \caption{Route 2 - (Indoors)}
        \label{fig:route2}
    \end{subfigure}
    \caption{Die "`Groundtrouth"' der Routen mit den einzelnen Flags}
    \label{fig:routen}
\end{figure}

\section{Erwartungen}

Wir erwarten, dass die Ergebnisse von FLP\_HIGH genauer sind als die Ergebnisse der übrigen, verwendeten Verfahren. LM\_GPS sollte ähnliche Fehler wie FLP\_HIGH ergeben. 

% TODO: Erwartungen Outdoor vs. Indoor darstellen
	
\section{Auswertung}	

Erstaunlicher Weise -- und entgegen unserer Erwartungen -- liefern FLP\_HIGH und FLP\_LOW nahezu gleiche Daten bzgl. der Genauigkeit. LM\_GPS scheint immer, einen deutlich größeren Fehler auszugeben, unabhängig von der Umgebung.

\subsection{Technische Umsetzung}

In einem idealen System unter idealen Bedingungen erhält unsere App alle drei Sekunden eine Position vom Betriebssystem -- wie gewünscht. Dann kann zwischen den Punkten der Groundtrouth linear interpoliert werden, um die Genauigkeit zu ermitteln. Der Fehler ergibt sich durch die Distanz der gemessenen Position zur entsprechenden, interpolierten Position der Groundtrouth. \\

Tatsächlich kommt es jedoch durch diverse Umstände dazu, dass die App nicht genau alle drei Sekunden eine Position aus dem Betriebssystem erhält. Meist entstehen Datenreihen, die entweder zu groß oder zu klein sind. Daher müssen die erhobenen Daten zunächst bereinigt werden: Sind die Datenreihen zu groß, so werden die "`überflüssigen"' Positionen gelöscht. Zusätzlich kann es vorkommen, dass die Positionen zu dicht bei einander liegen (zeitlich). Auch diese Daten werden aussortiert. 

\subsection{Outdoors}

Wie bereits erwähnt, liefern die gewählten Verfahren des Fused Location Providers ähnliche Werte. An dieser Stelle kann man sogar soweit gehen und sagen, dass FLP\_HIGH und FLP\_LOW gleiche Daten hinsichtlich der Genauigkeit liefern. Median und arithmetisches Mittel liegen nur marginal auseinander und auch die Standardabweichungen trennen nur rund 40cm, was bei Längen von 40m nicht der Rede wert ist. Bemerkenswert ist, wie ungenau selbst die höchste Genauigkeit ist. Hier entstehen Fehler von $120,7$m (95\%-Konfidenzniveau). Dieser Fehler könnte daraus resultieren, dass der Fused Location Provider Outdoors größtenteils nur auf die GPS-Daten zurückgreifen kann.

\renewcommand{\arraystretch}{1.2}
\begin{table}[h!]
	\centering
	\caption{Ergebnisse Route 1 -- Outdoors (Abbildung \ref{fig:route1})}
	\begin{tabular}{|l|l|l|l|}
	\hline
	Fehler (in Meter) & FLP\_HIGH & FLP\_LOW & LM\_GPS \\
	\hline
	\multicolumn{4}{|c|}{\textit{Lagemaße}}\\
	\hline
	Median & $38,593$ & $38,22$ & $74,939$ \\
	Konfidenzlevel 95\% & $120,746$ & $122,055$ & $151,976$ \\
	Arithm. Mittel & $49,431$ & $49,635$ & $84,736$ \\
	\hline
	\multicolumn{4}{|c|}{\textit{Streumaße}}\\
	\hline
	Standardabweichung & $40,274$ & $39,809$ & $45,163$ \\
	\hline
	\end{tabular}
\end{table}

\subsection{Indoors}

% todo

\begin{table}[h!]
	\centering
	\caption{Ergebnisse Route 2 -- Indoors (Abbildung \ref{fig:route2})}
	\begin{tabular}{|l|l|l|l|}
	\hline
	Fehler (in Meter) & FLP\_HIGH & FLP\_LOW & LM\_GPS \\
	\hline
	\multicolumn{4}{|c|}{\textit{Lagemaße}}\\
	\hline
	Median & $23,459$ & $26,111$ & $149,883$ \\
	Konfidenzlevel 95\% & $61,455$ & $69,472$ & $200,939$ \\
	Arithm. Mittel & $27,788$ & $29,8$ & $105,941$ \\
	\hline
	\multicolumn{4}{|c|}{\textit{Streumaße}}\\
	\hline
	Standardabweichung & $18,721$ & $21,96$ & $77,317$ \\
	\hline
	\end{tabular}
\end{table}
	
\end{document}